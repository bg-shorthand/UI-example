<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calendar</title>
    <!-- 원하는 폰트와 아이콘을 사용해도 좋다. -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400" rel="stylesheet" />
    <link href="https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css" rel="stylesheet" />
    <style>
      *,
      *::after,
      *::before {
        box-sizing: border-box;
      }
      body {
        font-family: 'Open Sans';
        font-weight: 300;
      }
      .title {
        color: #db5b33;
        font-weight: 300;
        text-align: center;
      }

      /* 뷰를 구현하세요. */
      .calendar {
        --width: 300;
        width: (var(--width) + 'px');
      }
      .cal-main__header {
        display: flex;
        flex-flow: row nowrap;
        justify-content: space-evenly;
      }
      .cal-main__main {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        grid-template-rows: auto;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <h1 class="title">Calendar</h1>
    <div class="calendar">
      <!-- 뷰를 구현하세요 -->
      <input class="date-picker" type="text" readonly>
      <article class="cal-main">
        <header class="cal-main__header">
          <button class="prevBtn">◀</button>
          <h2 class="year-month">
            <div class="month"></div>
            <div class="year"></div>
          </h2>
          <button class="nextBtn">▶</button>
        </header>
        <main class="cal-main__main">
          <div>일</div>
          <div>월</div>
          <div>화</div>
          <div>수</div>
          <div>목</div>
          <div>금</div>
          <div>토</div>
        </main>
      </article>
    </div>
    <script>
      const $calMainMain = document.querySelector('.cal-main__main');
      const $month = document.querySelector('.month');
      const $year = document.querySelector('.year');

      const state = {
        year: new Date().getFullYear(),
        month: new Date().getMonth(),
      };

      const render = () => {
        $month.textContent = new Intl.DateTimeFormat('en-US', { month: 'long' }).format(new Date(state.year, state.month, 1));
        $year.textContent = state.year;

        const curMonth = Array.from({ length: new Date(state.year, state.month + 1, 0).getDate() }, (v, i) => ({
          date: i + 1,
          day: new Date(state.year, state.month, i + 1).getDay()
        }));
      
        const prevMonth = Array.from({ length: new Date(state.year, state.month, 1).getDay() }, (v, i) => ({
          date: new Date(state.year, state.month, -(new Date(state.year, state.month, 0).getDay() - i)).getDate(),
          day: new Date(state.year, state.month, -(new Date(state.year, state.month, 0).getDay() - i)).getDay()
        }));

        const nextMonth = Array.from({ length: 6 - new Date(state.year, state.month + 1, 0).getDay() }, (v, i) => ({
          date: new Date(state.year, state.month + 1, i + 1).getDate(),
          day: new Date(state.year, state.month + 1, i + 1).getDay()
        }));

        prevMonth.forEach(({ date }) => {
          const $div = document.createElement('div');
          $div.textContent = date;
          $calMainMain.appendChild($div);
        });
        curMonth.forEach(({ date }) => {
          const $div = document.createElement('div');
          $div.textContent = date;
          $calMainMain.appendChild($div);
        });
        nextMonth.forEach(({ date }) => {
          const $div = document.createElement('div');
          $div.textContent = date;
          $calMainMain.appendChild($div);
        });
      };

      document.addEventListener('DOMContentLoaded', render);
    </script>
  </body>
</html>